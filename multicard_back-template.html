<script src="_fontawesome-all.js"></script>

  <div style="display: none">== {{Back}} ==</div> <!-- Display only in the card browser list -->

  <div class="icon-bar">
      {{#Sound}}{{Sound}}{{/Sound}}
      {{#Sound}}<a title="Spell Checking" href="#" onclick="toggleType()"><i class="far fa-check-circle"></i></a>{{/Sound}}
      {{#Audio File Name}}<a title="Show Audio Player" href="#" onclick="toggleAudio()"><i class="fas fa-volume-up"></i></a>{{/Audio File Name}}
      {{#Sound}}<a title="Show Content of Front Side" href="#" onclick="toggleFront()"><i class="far fa-comment-dots"></i></a>{{/Sound}}
      {{#Notes}}<a title="See More Info" href="#" onclick="toggleNotes()"><i class="far fa-question-circle"></i></a>{{/Notes}}
  </div>

<div class="container center" style="max-width: 100%; margin: auto 20px;">

{{#Picture}}
    <div class="contain panel">{{Picture}}</div>
{{/Picture}}

  <div class="large panel" {{#Sound}}id="frontPanel" style="display:none"{{/Sound}}>{{Front}}</div>
  {{#Sound}}<div class="large panel" id="frontPanel2" style="display: block;"><i class="fa fa-ellipsis-h"></i></div>{{/Sound}}

  <div id="typePanel" class="panel" style="display: none;">{{type:Front}}</div>

  {{#Audio File Name}}
      <div class="panel">
          <div id="audioPanel" style="display: none;">
              <audio id="audioControl" controls loop class="small text-grenadine">
                  <source src="{{Audio File Name}}">
              </audio>
              <form>
                  <div class="range-slider small text-grey left">
                      <input id="pbr" class="range-slider__range" type="range" value="1" min="0.1" max="2" step="0.1" >
                      <span class="range-slider__value">Speed: <span id="currentPbr">1</span></span>
                  </div>
              </form>
          </div>
      </div>
  {{/Audio File Name}}

    <hr class="text-grey">

{{#Back}}
    <div class="large panel">{{Back}}</div>
{{/Back}}

{{#Notes}}
    <div {{^Story*}}id="notesPanel"{{/Story*}} class="panel left newline padding round small grey" style="display: none;">{{Notes}}</div>
{{/Notes}}

</div>

{{#Tags}}<div class="tags xsmall text-grey">{{Tags}}</div>{{/Tags}}

<script>
function toggleFront() {
  var x = document.getElementById("frontPanel");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
  var x = document.getElementById("frontPanel2");
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
}

function toggleAudio() {
  var x = document.getElementById("audioPanel");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}

function toggleType() {
  var x = document.getElementById("typePanel");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}

window.onload = function() {

  var v = document.getElementById("audioControl");
  var p = document.getElementById("pbr");
  var c = document.getElementById("currentPbr");

  p.addEventListener('input', function() {
    c.innerHTML = p.value;
    v.playbackRate = p.value;
  }, false);

};

function toggleNotes() {
  var x = document.getElementById("notesPanel");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
</script>
